{% load static %}

<!DOCTYPE html>
<html>
    <head>
        <title>Login - Spotify</title>
        <link rel="icon" href="https://accounts.scdn.co/sso/images/favicon.ace4d8543bbb017893402a1e9d1ac1fa.ico">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="{% static 'css/login.css' %}">
    </head>

    <body>
        <div id="main-container">
            <!-- <img src="../statics/img/spotify_logo.jpg" id="logo" alt="Spotify Logo"> -->
            <img src="{% static 'img/spotify_logo.jpg' %}" id="logo" alt="Spotify Logo">

            <h2 class="text-white">Log in to Spotify</h2>

            <hr class="solid">

            <div>
                {% if messages %}
                    {% for message in messages %}
                        {% if "error" in message.tags %}
                            <div class="alert alert-danger" role="alert">{{ message }}</div>
                        {% else %}
                            <div class="alert alert-{{ message.tags }}" role="alert">{{ message }}</div>
                        {% endif %}
                    {% endfor %}
                {% endif %}

                <form action="{% url 'login_validate' %}" method="post"> 
                    {% csrf_token %}
                    <span class="text-white fw-bold">Email or username</span>
                    <br>
                    <input type="text" name="user" placeholder="Email or username" required>

                    <br> <br>

                    <span class="text-white fw-bold">Password</span>
                    <br>
                    <input type="password" name="password" placeholder="Password" required>
                    <br> <br>

                    <input type="submit" value="Log In" class="fw-bold">
                </form>
            </div>

            <br><br>

            <div id="sub-container">
                <a href="{% url 'reset_password' %}" class="text-white">Forget your password?</a>

                <br><br>

                <span class="text-white-50">Don't have an account?</span>
                <a href="{% url 'sign_up' %}" class="text-white">Sign up for Spotify</a>
            </div>
        </div>

        <!-- <script>
            // Automatically clear messages after 30 seconds
            setTimeout(function () {
                var messages = document.querySelectorAll('.alert');
                messages.forEach(function (message) {
                    message.style.display = 'none'; // Hides the message after 30 seconds
                });
            }, 30000);
        </script> -->
        
    </body>
</html>